/* [create-plugin] version: 5.14.0 */
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
define(["@grafana/data","@grafana/runtime","@grafana/ui","module","lodash","react","rxjs"], (__WEBPACK_EXTERNAL_MODULE__grafana_data__, __WEBPACK_EXTERNAL_MODULE__grafana_runtime__, __WEBPACK_EXTERNAL_MODULE__grafana_ui__, __WEBPACK_EXTERNAL_MODULE_amd_module__, __WEBPACK_EXTERNAL_MODULE_lodash__, __WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_rxjs__) => { return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./components/ConfigEditor.tsx":
/*!*************************************!*\
  !*** ./components/ConfigEditor.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConfigEditor: () => (/* binding */ ConfigEditor)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @grafana/ui */ \"@grafana/ui\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__);\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _object_spread_props(target, source) {\n    source = source != null ? source : {};\n    if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n        ownKeys(Object(source)).forEach(function(key) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n    }\n    return target;\n}\n\n\nfunction ConfigEditor(props) {\n    const { onOptionsChange, options } = props;\n    //Var new constant\n    let [nameConst, setNameConst] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n    let [valueConst, setValueConst] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n    //Var new constant\n    let [nameMacro, setNameMacro] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n    let [valueMacro, setValueMacro] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n    //Modification input URL\n    const onPathChange = (event)=>{\n        const jsonData = _object_spread_props(_object_spread({}, options.jsonData), {\n            path: event.target.value\n        });\n        onOptionsChange(_object_spread_props(_object_spread({}, options), {\n            jsonData\n        }));\n    };\n    //Modification input name of the new constant\n    const onNameConstChange = (event)=>{\n        setNameConst(event.target.value);\n    };\n    //Modification input value of the new constant\n    const onValueConstChange = (event)=>{\n        setValueConst(event.target.value);\n    };\n    //Modification input name of the new macro\n    const onNameMacroChange = (event)=>{\n        setNameMacro(event.target.value);\n    };\n    //Modification input value of the new macro\n    const onValueMacroChange = (event)=>{\n        var _event_target_value;\n        setValueMacro((_event_target_value = event.target.value) !== null && _event_target_value !== void 0 ? _event_target_value : '');\n    };\n    //Add new constant\n    const addConst = ()=>{\n        if (nameConst !== '' && valueConst !== '') {\n            var _options_jsonData_const;\n            const listConst = (_options_jsonData_const = options.jsonData.const) !== null && _options_jsonData_const !== void 0 ? _options_jsonData_const : [];\n            const id = listConst.findIndex((e)=>e.name === nameConst);\n            if (id === -1) {\n                const c = {\n                    name: nameConst,\n                    value: valueConst\n                };\n                listConst.push(c);\n            } else {\n                listConst[id].value = valueConst;\n            }\n            const jsonData = _object_spread_props(_object_spread({}, options.jsonData), {\n                const: listConst\n            });\n            onOptionsChange(_object_spread_props(_object_spread({}, options), {\n                jsonData\n            }));\n            setNameConst('');\n            setValueConst('');\n        }\n    };\n    //Delete constant\n    const deleteConst = (name)=>{\n        const listConst = options.jsonData.const;\n        if (listConst !== undefined) {\n            const newListConst = listConst.filter((item)=>item.name !== name);\n            const jsonData = _object_spread_props(_object_spread({}, options.jsonData), {\n                const: newListConst\n            });\n            onOptionsChange(_object_spread_props(_object_spread({}, options), {\n                jsonData\n            }));\n        }\n    };\n    //Modification constant (modification input name and value with current constant values)\n    const modifyConst = (name, value)=>{\n        setNameConst(name);\n        setValueConst(value);\n    };\n    //Add new macro\n    const addMacro = ()=>{\n        if (nameMacro !== '' && valueMacro !== '') {\n            var _options_jsonData_macro;\n            const listMacro = (_options_jsonData_macro = options.jsonData.macro) !== null && _options_jsonData_macro !== void 0 ? _options_jsonData_macro : [];\n            const id = listMacro.findIndex((e)=>e.name === nameMacro);\n            if (id === -1) {\n                const c = {\n                    name: nameMacro,\n                    value: valueMacro\n                };\n                listMacro.push(c);\n            } else {\n                listMacro[id].value = valueMacro;\n            }\n            const jsonData = _object_spread_props(_object_spread({}, options.jsonData), {\n                macro: listMacro\n            });\n            onOptionsChange(_object_spread_props(_object_spread({}, options), {\n                jsonData\n            }));\n            setNameMacro('');\n            setValueMacro('');\n        }\n    };\n    //Delete macro\n    const deleteMacro = (name)=>{\n        const listeMacro = options.jsonData.macro;\n        if (listeMacro !== undefined) {\n            const newListMacro = listeMacro.filter((item)=>item.name !== name);\n            const jsonData = _object_spread_props(_object_spread({}, options.jsonData), {\n                macro: newListMacro\n            });\n            onOptionsChange(_object_spread_props(_object_spread({}, options), {\n                jsonData\n            }));\n        }\n    };\n    //Modification macro (modification input name and value with current constant values)\n    const modifyMacro = (name, value)=>{\n        setNameMacro(name);\n        setValueMacro(value);\n    };\n    //Front\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"gf-form-group\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h1\", null, \"HTTP Address\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"URL\",\n        labelWidth: 12,\n        tooltip: 'Do not append /api/v0/exec at the end of the URL'\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Input, {\n        onChange: onPathChange,\n        id: \"url\",\n        width: 60,\n        value: options.jsonData.path\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"Access\",\n        labelWidth: 12,\n        tooltip: 'Proxy = Grafana backend will proxy the request'\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n        style: {\n            opacity: 0.8\n        }\n    }, \"proxy\"))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n            marginTop: '3rem'\n        }\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h1\", null, \"Constants\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Card, {\n        style: {\n            borderLeft: 'solid 3px  #3498db'\n        }\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Card.Heading, null, \"This constants can be used in every templating or query. Register your constant name and value\", 'and prefix your constant name with \"$\" in your queries/templating.'), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Card.Description, null, \"example: \", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"code\", null, \"$token\"))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h3\", {\n        style: {\n            marginTop: '1rem'\n        }\n    }, \"Add a constant\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"Name\",\n        labelWidth: 12\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Input, {\n        width: 119,\n        id: \"constant_name\",\n        onChange: onNameConstChange,\n        value: nameConst\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"Value\",\n        labelWidth: 12\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.TextArea, {\n        cols: 100,\n        id: \"constant_value\",\n        onChange: onValueConstChange,\n        value: valueConst\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Button, {\n        variant: \"primary\",\n        id: \"btn_constant\",\n        style: {\n            marginLeft: '7.15rem'\n        },\n        onClick: addConst\n    }, \"Add\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h3\", {\n        style: {\n            marginTop: '1rem'\n        }\n    }, \"Constant list\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Const, {\n        listConst: options.jsonData.const,\n        deleteConst: deleteConst,\n        modifyConst: modifyConst\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n            marginTop: '3rem'\n        }\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h1\", null, \"Macros\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Card, {\n        style: {\n            borderLeft: 'solid 3px  #3498db'\n        }\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Card.Heading, null, \"This macro can be used in every templating or query. Register your macro name and value\", 'and prefix your constant name with \"@\" in your queries/templating.'), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Card.Description, null, \"example: \", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"code\", null, \"@dropfirst\"))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h3\", {\n        style: {\n            marginTop: '1rem'\n        }\n    }, \"Add a macro\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"Name\",\n        labelWidth: 12\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Input, {\n        width: 119,\n        id: \"macro_name\",\n        onChange: onNameMacroChange,\n        value: nameMacro\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"Value\",\n        labelWidth: 12\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.TextArea, {\n        cols: 100,\n        id: \"macro_value\",\n        onChange: onValueMacroChange,\n        value: valueMacro\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Button, {\n        variant: \"primary\",\n        id: \"btn_macro\",\n        onClick: addMacro\n    }, \"Add\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h3\", {\n        style: {\n            marginTop: '1rem'\n        }\n    }, \"Macros list\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Const, {\n        listConst: options.jsonData.macro,\n        deleteConst: deleteMacro,\n        modifyConst: modifyMacro\n    })));\n}\n//Function display constant list (or macro list)\nfunction Const(props) {\n    const { listConst, deleteConst, modifyConst } = props;\n    if (listConst !== undefined) {\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"table\", null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"thead\", null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.IconButton, {\n            name: 'trash-alt',\n            variant: 'destructive',\n            tooltip: 'Delete',\n            style: {\n                margin: '5px',\n                visibility: 'hidden'\n            }\n        })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.IconButton, {\n            name: 'pen',\n            variant: 'primary',\n            tooltip: 'Edit',\n            style: {\n                margin: '20px',\n                visibility: 'hidden'\n            }\n        })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n            style: {\n                minWidth: '5rem',\n                maxWidth: '15rem',\n                padding: '10px'\n            }\n        }, \"Name\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, \"Value\"))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tbody\", null, listConst.map((c)=>/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.IconButton, {\n                name: 'trash-alt',\n                variant: 'destructive',\n                tooltip: 'Delete',\n                style: {\n                    margin: '5px'\n                },\n                onClick: ()=>deleteConst(c.name)\n            })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.IconButton, {\n                name: 'pen',\n                variant: 'primary',\n                tooltip: 'Edit',\n                style: {\n                    margin: '20px'\n                },\n                onClick: ()=>modifyConst(c.name, c.value)\n            })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n                style: {\n                    minWidth: '5rem',\n                    maxWidth: '15rem',\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    padding: '10px'\n                }\n            }, c.name), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n                style: {\n                    maxWidth: '80rem',\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis'\n                }\n            }, c.value))))));\n    } else {\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bmVudHMvQ29uZmlnRWRpdG9yLnRzeD9iZWRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDaGFuZ2VFdmVudCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCdXR0b24sIENhcmQsIEljb25CdXR0b24sIElubGluZUZpZWxkLCBJbnB1dCwgVGV4dEFyZWEgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5pbXBvcnQgeyBEYXRhU291cmNlUGx1Z2luT3B0aW9uc0VkaXRvclByb3BzLCAgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IENvbnN0UHJvcCwgV2FycERhdGFTb3VyY2VPcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMvdHlwZXMnO1xuXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBEYXRhU291cmNlUGx1Z2luT3B0aW9uc0VkaXRvclByb3BzPFdhcnBEYXRhU291cmNlT3B0aW9ucz4ge31cblxuZXhwb3J0IGZ1bmN0aW9uIENvbmZpZ0VkaXRvcihwcm9wczogUHJvcHMpIHtcbiAgY29uc3QgeyBvbk9wdGlvbnNDaGFuZ2UsIG9wdGlvbnMgfSA9IHByb3BzO1xuXG4gIC8vVmFyIG5ldyBjb25zdGFudFxuICBsZXQgW25hbWVDb25zdCwgc2V0TmFtZUNvbnN0XSA9IHVzZVN0YXRlKCcnKTtcbiAgbGV0IFt2YWx1ZUNvbnN0LCBzZXRWYWx1ZUNvbnN0XSA9IHVzZVN0YXRlKCcnKTtcblxuICAvL1ZhciBuZXcgY29uc3RhbnRcbiAgbGV0IFtuYW1lTWFjcm8sIHNldE5hbWVNYWNyb10gPSB1c2VTdGF0ZSgnJyk7XG4gIGxldCBbdmFsdWVNYWNybywgc2V0VmFsdWVNYWNyb10gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgLy9Nb2RpZmljYXRpb24gaW5wdXQgVVJMXG4gIGNvbnN0IG9uUGF0aENoYW5nZSA9IChldmVudDogQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCBqc29uRGF0YSA9IHtcbiAgICAgIC4uLm9wdGlvbnMuanNvbkRhdGEsXG4gICAgICBwYXRoOiBldmVudC50YXJnZXQudmFsdWUsXG4gICAgfTtcbiAgICBvbk9wdGlvbnNDaGFuZ2UoeyAuLi5vcHRpb25zLCBqc29uRGF0YSB9KTtcbiAgfTtcblxuXG4gIC8vTW9kaWZpY2F0aW9uIGlucHV0IG5hbWUgb2YgdGhlIG5ldyBjb25zdGFudFxuICBjb25zdCBvbk5hbWVDb25zdENoYW5nZSA9IChldmVudDogQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBzZXROYW1lQ29uc3QoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICAvL01vZGlmaWNhdGlvbiBpbnB1dCB2YWx1ZSBvZiB0aGUgbmV3IGNvbnN0YW50XG4gIGNvbnN0IG9uVmFsdWVDb25zdENoYW5nZSA9IChldmVudDogQ2hhbmdlRXZlbnQ8SFRNTFRleHRBcmVhRWxlbWVudD4pID0+IHtcbiAgICBzZXRWYWx1ZUNvbnN0KGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgLy9Nb2RpZmljYXRpb24gaW5wdXQgbmFtZSBvZiB0aGUgbmV3IG1hY3JvXG4gIGNvbnN0IG9uTmFtZU1hY3JvQ2hhbmdlID0gKGV2ZW50OiBDaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIHNldE5hbWVNYWNybyhldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIC8vTW9kaWZpY2F0aW9uIGlucHV0IHZhbHVlIG9mIHRoZSBuZXcgbWFjcm9cbiAgY29uc3Qgb25WYWx1ZU1hY3JvQ2hhbmdlID0gKGV2ZW50OiBDaGFuZ2VFdmVudDxIVE1MVGV4dEFyZWFFbGVtZW50PikgPT4ge1xuICAgIHNldFZhbHVlTWFjcm8oZXZlbnQudGFyZ2V0LnZhbHVlID8/ICcnKTtcbiAgfTtcblxuICAvL0FkZCBuZXcgY29uc3RhbnRcbiAgY29uc3QgYWRkQ29uc3QgPSAoKSA9PiB7XG4gICAgaWYgKG5hbWVDb25zdCAhPT0gJycgJiYgdmFsdWVDb25zdCAhPT0gJycpIHtcbiAgICAgIGNvbnN0IGxpc3RDb25zdCA9IG9wdGlvbnMuanNvbkRhdGEuY29uc3QgPz8gW107XG5cbiAgICAgIGNvbnN0IGlkID0gbGlzdENvbnN0LmZpbmRJbmRleCgoZSkgPT4gZS5uYW1lID09PSBuYW1lQ29uc3QpO1xuXG4gICAgICBpZiAoaWQgPT09IC0xKSB7XG4gICAgICAgIGNvbnN0IGM6IENvbnN0UHJvcCA9IHtcbiAgICAgICAgICBuYW1lOiBuYW1lQ29uc3QsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlQ29uc3QsXG4gICAgICAgIH07XG4gICAgICAgIGxpc3RDb25zdC5wdXNoKGMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdENvbnN0W2lkXS52YWx1ZSA9IHZhbHVlQ29uc3Q7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGpzb25EYXRhOiBXYXJwRGF0YVNvdXJjZU9wdGlvbnMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMuanNvbkRhdGEsXG4gICAgICAgIGNvbnN0OiBsaXN0Q29uc3QsXG4gICAgICB9O1xuICAgICAgb25PcHRpb25zQ2hhbmdlKHsgLi4ub3B0aW9ucywganNvbkRhdGEgfSk7XG5cbiAgICAgIHNldE5hbWVDb25zdCgnJyk7XG4gICAgICBzZXRWYWx1ZUNvbnN0KCcnKTtcbiAgICB9XG4gIH07XG5cbiAgLy9EZWxldGUgY29uc3RhbnRcbiAgY29uc3QgZGVsZXRlQ29uc3QgPSAobmFtZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgbGlzdENvbnN0ID0gb3B0aW9ucy5qc29uRGF0YS5jb25zdDtcbiAgICBpZiAobGlzdENvbnN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IG5ld0xpc3RDb25zdCA9IGxpc3RDb25zdC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ubmFtZSAhPT0gbmFtZSk7XG4gICAgICBjb25zdCBqc29uRGF0YTogV2FycERhdGFTb3VyY2VPcHRpb25zID0ge1xuICAgICAgICAuLi5vcHRpb25zLmpzb25EYXRhLFxuICAgICAgICBjb25zdDogbmV3TGlzdENvbnN0LFxuICAgICAgfTtcbiAgICAgIG9uT3B0aW9uc0NoYW5nZSh7IC4uLm9wdGlvbnMsIGpzb25EYXRhIH0pO1xuICAgIH1cbiAgfTtcblxuICAvL01vZGlmaWNhdGlvbiBjb25zdGFudCAobW9kaWZpY2F0aW9uIGlucHV0IG5hbWUgYW5kIHZhbHVlIHdpdGggY3VycmVudCBjb25zdGFudCB2YWx1ZXMpXG4gIGNvbnN0IG1vZGlmeUNvbnN0ID0gKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIHNldE5hbWVDb25zdChuYW1lKTtcbiAgICBzZXRWYWx1ZUNvbnN0KHZhbHVlKTtcbiAgfTtcblxuICAvL0FkZCBuZXcgbWFjcm9cbiAgY29uc3QgYWRkTWFjcm8gPSAoKSA9PiB7XG4gICAgaWYgKG5hbWVNYWNybyAhPT0gJycgJiYgdmFsdWVNYWNybyAhPT0gJycpIHtcbiAgICAgIGNvbnN0IGxpc3RNYWNybyA9IG9wdGlvbnMuanNvbkRhdGEubWFjcm8gPz8gW107XG5cbiAgICAgIGNvbnN0IGlkID0gbGlzdE1hY3JvLmZpbmRJbmRleCgoZSkgPT4gZS5uYW1lID09PSBuYW1lTWFjcm8pO1xuXG4gICAgICBpZiAoaWQgPT09IC0xKSB7XG4gICAgICAgIGNvbnN0IGM6IENvbnN0UHJvcCA9IHtcbiAgICAgICAgICBuYW1lOiBuYW1lTWFjcm8sXG4gICAgICAgICAgdmFsdWU6IHZhbHVlTWFjcm8sXG4gICAgICAgIH07XG4gICAgICAgIGxpc3RNYWNyby5wdXNoKGMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdE1hY3JvW2lkXS52YWx1ZSA9IHZhbHVlTWFjcm87XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGpzb25EYXRhOiBXYXJwRGF0YVNvdXJjZU9wdGlvbnMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMuanNvbkRhdGEsXG4gICAgICAgIG1hY3JvOiBsaXN0TWFjcm8sXG4gICAgICB9O1xuICAgICAgb25PcHRpb25zQ2hhbmdlKHsgLi4ub3B0aW9ucywganNvbkRhdGEgfSk7XG5cbiAgICAgIHNldE5hbWVNYWNybygnJyk7XG4gICAgICBzZXRWYWx1ZU1hY3JvKCcnKTtcbiAgICB9XG4gIH07XG5cbiAgLy9EZWxldGUgbWFjcm9cbiAgY29uc3QgZGVsZXRlTWFjcm8gPSAobmFtZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgbGlzdGVNYWNybyA9IG9wdGlvbnMuanNvbkRhdGEubWFjcm87XG4gICAgaWYgKGxpc3RlTWFjcm8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgbmV3TGlzdE1hY3JvID0gbGlzdGVNYWNyby5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ubmFtZSAhPT0gbmFtZSk7XG4gICAgICBjb25zdCBqc29uRGF0YTogV2FycERhdGFTb3VyY2VPcHRpb25zID0ge1xuICAgICAgICAuLi5vcHRpb25zLmpzb25EYXRhLFxuICAgICAgICBtYWNybzogbmV3TGlzdE1hY3JvLFxuICAgICAgfTtcbiAgICAgIG9uT3B0aW9uc0NoYW5nZSh7IC4uLm9wdGlvbnMsIGpzb25EYXRhIH0pO1xuICAgIH1cbiAgfTtcblxuICAvL01vZGlmaWNhdGlvbiBtYWNybyAobW9kaWZpY2F0aW9uIGlucHV0IG5hbWUgYW5kIHZhbHVlIHdpdGggY3VycmVudCBjb25zdGFudCB2YWx1ZXMpXG4gIGNvbnN0IG1vZGlmeU1hY3JvID0gKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIHNldE5hbWVNYWNybyhuYW1lKTtcbiAgICBzZXRWYWx1ZU1hY3JvKHZhbHVlKTtcbiAgfTtcblxuICAvL0Zyb250XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJnZi1mb3JtLWdyb3VwXCI+XG4gICAgICA8ZGl2PlxuICAgICAgICA8aDE+SFRUUCBBZGRyZXNzPC9oMT5cbiAgICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiVVJMXCIgbGFiZWxXaWR0aD17MTJ9IHRvb2x0aXA9eydEbyBub3QgYXBwZW5kIC9hcGkvdjAvZXhlYyBhdCB0aGUgZW5kIG9mIHRoZSBVUkwnfT5cbiAgICAgICAgICA8SW5wdXQgb25DaGFuZ2U9e29uUGF0aENoYW5nZX0gaWQ9XCJ1cmxcIiB3aWR0aD17NjB9IHZhbHVlPXtvcHRpb25zLmpzb25EYXRhLnBhdGh9IC8+XG4gICAgICAgIDwvSW5saW5lRmllbGQ+XG4gICAgICAgIDxJbmxpbmVGaWVsZFxuICAgICAgICAgIGxhYmVsPVwiQWNjZXNzXCJcbiAgICAgICAgICBsYWJlbFdpZHRoPXsxMn1cbiAgICAgICAgICB0b29sdGlwPXsnUHJveHkgPSBHcmFmYW5hIGJhY2tlbmQgd2lsbCBwcm94eSB0aGUgcmVxdWVzdCd9XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBvcGFjaXR5OiAwLjggfX0+cHJveHk8L3NwYW4+XG4gICAgICAgIDwvSW5saW5lRmllbGQ+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAnM3JlbScgfX0+XG4gICAgICAgIDxoMT5Db25zdGFudHM8L2gxPlxuICAgICAgICA8Q2FyZCBzdHlsZT17eyBib3JkZXJMZWZ0OiAnc29saWQgM3B4ICAjMzQ5OGRiJyB9fT5cbiAgICAgICAgICA8Q2FyZC5IZWFkaW5nPlxuICAgICAgICAgICAgVGhpcyBjb25zdGFudHMgY2FuIGJlIHVzZWQgaW4gZXZlcnkgdGVtcGxhdGluZyBvciBxdWVyeS4gUmVnaXN0ZXIgeW91ciBjb25zdGFudCBuYW1lIGFuZCB2YWx1ZVxuICAgICAgICAgICAgey8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9uby11bmVzY2FwZWQtZW50aXRpZXMgKi99XG4gICAgICAgICAgICBhbmQgcHJlZml4IHlvdXIgY29uc3RhbnQgbmFtZSB3aXRoIFwiJFwiIGluIHlvdXIgcXVlcmllcy90ZW1wbGF0aW5nLlxuICAgICAgICAgIDwvQ2FyZC5IZWFkaW5nPlxuICAgICAgICAgIDxDYXJkLkRlc2NyaXB0aW9uPlxuICAgICAgICAgICAgZXhhbXBsZTogPGNvZGU+JHRva2VuPC9jb2RlPlxuICAgICAgICAgIDwvQ2FyZC5EZXNjcmlwdGlvbj5cbiAgICAgICAgPC9DYXJkPlxuICAgICAgICA8aDMgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMXJlbScgfX0+QWRkIGEgY29uc3RhbnQ8L2gzPlxuICAgICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJOYW1lXCIgbGFiZWxXaWR0aD17MTJ9PlxuICAgICAgICAgIDxJbnB1dCB3aWR0aD17MTE5fSBpZD1cImNvbnN0YW50X25hbWVcIiBvbkNoYW5nZT17b25OYW1lQ29uc3RDaGFuZ2V9IHZhbHVlPXtuYW1lQ29uc3R9IC8+XG4gICAgICAgIDwvSW5saW5lRmllbGQ+XG4gICAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIlZhbHVlXCIgbGFiZWxXaWR0aD17MTJ9PlxuICAgICAgICAgIDxUZXh0QXJlYSBjb2xzPXsxMDB9IGlkPVwiY29uc3RhbnRfdmFsdWVcIiBvbkNoYW5nZT17b25WYWx1ZUNvbnN0Q2hhbmdlfSB2YWx1ZT17dmFsdWVDb25zdH0gLz5cbiAgICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwicHJpbWFyeVwiIGlkPVwiYnRuX2NvbnN0YW50XCIgc3R5bGU9e3sgbWFyZ2luTGVmdDogJzcuMTVyZW0nIH19IG9uQ2xpY2s9e2FkZENvbnN0fT5cbiAgICAgICAgICBBZGRcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDxoMyBzdHlsZT17eyBtYXJnaW5Ub3A6ICcxcmVtJyB9fT5Db25zdGFudCBsaXN0PC9oMz5cbiAgICAgICAgPENvbnN0IGxpc3RDb25zdD17b3B0aW9ucy5qc29uRGF0YS5jb25zdH0gZGVsZXRlQ29uc3Q9e2RlbGV0ZUNvbnN0fSBtb2RpZnlDb25zdD17bW9kaWZ5Q29uc3R9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAnM3JlbScgfX0+XG4gICAgICAgIDxoMT5NYWNyb3M8L2gxPlxuICAgICAgICA8Q2FyZCBzdHlsZT17eyBib3JkZXJMZWZ0OiAnc29saWQgM3B4ICAjMzQ5OGRiJyB9fT5cbiAgICAgICAgICA8Q2FyZC5IZWFkaW5nPlxuICAgICAgICAgICAgVGhpcyBtYWNybyBjYW4gYmUgdXNlZCBpbiBldmVyeSB0ZW1wbGF0aW5nIG9yIHF1ZXJ5LiBSZWdpc3RlciB5b3VyIG1hY3JvIG5hbWUgYW5kIHZhbHVlXG4gICAgICAgICAgICB7LyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L25vLXVuZXNjYXBlZC1lbnRpdGllcyAqL31cbiAgICAgICAgICAgIGFuZCBwcmVmaXggeW91ciBjb25zdGFudCBuYW1lIHdpdGggXCJAXCIgaW4geW91ciBxdWVyaWVzL3RlbXBsYXRpbmcuXG4gICAgICAgICAgPC9DYXJkLkhlYWRpbmc+XG4gICAgICAgICAgPENhcmQuRGVzY3JpcHRpb24+XG4gICAgICAgICAgICBleGFtcGxlOiA8Y29kZT5AZHJvcGZpcnN0PC9jb2RlPlxuICAgICAgICAgIDwvQ2FyZC5EZXNjcmlwdGlvbj5cbiAgICAgICAgPC9DYXJkPlxuICAgICAgICA8aDMgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMXJlbScgfX0+QWRkIGEgbWFjcm88L2gzPlxuICAgICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJOYW1lXCIgbGFiZWxXaWR0aD17MTJ9PlxuICAgICAgICAgIDxJbnB1dCB3aWR0aD17MTE5fSBpZD1cIm1hY3JvX25hbWVcIiBvbkNoYW5nZT17b25OYW1lTWFjcm9DaGFuZ2V9IHZhbHVlPXtuYW1lTWFjcm99IC8+XG4gICAgICAgIDwvSW5saW5lRmllbGQ+XG4gICAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIlZhbHVlXCIgbGFiZWxXaWR0aD17MTJ9PlxuICAgICAgICAgIDxUZXh0QXJlYSBjb2xzPXsxMDB9IGlkPVwibWFjcm9fdmFsdWVcIiBvbkNoYW5nZT17b25WYWx1ZU1hY3JvQ2hhbmdlfSB2YWx1ZT17dmFsdWVNYWNyb30gLz5cbiAgICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwicHJpbWFyeVwiIGlkPVwiYnRuX21hY3JvXCIgb25DbGljaz17YWRkTWFjcm99PlxuICAgICAgICAgIEFkZFxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPGgzIHN0eWxlPXt7IG1hcmdpblRvcDogJzFyZW0nIH19Pk1hY3JvcyBsaXN0PC9oMz5cbiAgICAgICAgPENvbnN0IGxpc3RDb25zdD17b3B0aW9ucy5qc29uRGF0YS5tYWNyb30gZGVsZXRlQ29uc3Q9e2RlbGV0ZU1hY3JvfSBtb2RpZnlDb25zdD17bW9kaWZ5TWFjcm99IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuLy9GdW5jdGlvbiBkaXNwbGF5IGNvbnN0YW50IGxpc3QgKG9yIG1hY3JvIGxpc3QpXG5mdW5jdGlvbiBDb25zdChwcm9wczoge1xuICBsaXN0Q29uc3Q/OiBDb25zdFByb3BbXTtcbiAgZGVsZXRlQ29uc3Q6IChuYW1lOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG1vZGlmeUNvbnN0OiAobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xufSkge1xuICBjb25zdCB7IGxpc3RDb25zdCwgZGVsZXRlQ29uc3QsIG1vZGlmeUNvbnN0IH0gPSBwcm9wcztcblxuICBpZiAobGlzdENvbnN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHRhYmxlPlxuICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICAgIG5hbWU9eyd0cmFzaC1hbHQnfVxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9eydkZXN0cnVjdGl2ZSd9XG4gICAgICAgICAgICAgICAgdG9vbHRpcD17J0RlbGV0ZSd9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luOiAnNXB4JywgdmlzaWJpbGl0eTogJ2hpZGRlbicgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICAgICAgbmFtZT17J3Blbid9XG4gICAgICAgICAgICAgICAgdmFyaWFudD17J3ByaW1hcnknfVxuICAgICAgICAgICAgICAgIHRvb2x0aXA9eydFZGl0J31cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW46ICcyMHB4JywgdmlzaWJpbGl0eTogJ2hpZGRlbicgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8dGhcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBtaW5XaWR0aDogJzVyZW0nLFxuICAgICAgICAgICAgICAgIG1heFdpZHRoOiAnMTVyZW0nLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMHB4JyxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgTmFtZVxuICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgIDx0aD5WYWx1ZTwvdGg+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgPC90aGVhZD5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgIHtsaXN0Q29uc3QubWFwKChjKSA9PiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgICAgICAgbmFtZT17J3RyYXNoLWFsdCd9XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9eydkZXN0cnVjdGl2ZSd9XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA9eydEZWxldGUnfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW46ICc1cHgnIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGRlbGV0ZUNvbnN0KGMubmFtZSl9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgICAgICAgbmFtZT17J3Blbid9XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9eydwcmltYXJ5J31cbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcD17J0VkaXQnfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW46ICcyMHB4JyB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBtb2RpZnlDb25zdChjLm5hbWUsIGMudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgbWluV2lkdGg6ICc1cmVtJyxcbiAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6ICcxNXJlbScsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dE92ZXJmbG93OiAnZWxsaXBzaXMnLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTBweCcsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtjLm5hbWV9XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgbWF4V2lkdGg6ICc4MHJlbScsIG92ZXJmbG93OiAnaGlkZGVuJywgdGV4dE92ZXJmbG93OiAnZWxsaXBzaXMnIH19PntjLnZhbHVlfTwvdGQ+XG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gPD48Lz47XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwiQnV0dG9uIiwiQ2FyZCIsIkljb25CdXR0b24iLCJJbmxpbmVGaWVsZCIsIklucHV0IiwiVGV4dEFyZWEiLCJDb25maWdFZGl0b3IiLCJwcm9wcyIsIm9uT3B0aW9uc0NoYW5nZSIsIm9wdGlvbnMiLCJuYW1lQ29uc3QiLCJzZXROYW1lQ29uc3QiLCJ2YWx1ZUNvbnN0Iiwic2V0VmFsdWVDb25zdCIsIm5hbWVNYWNybyIsInNldE5hbWVNYWNybyIsInZhbHVlTWFjcm8iLCJzZXRWYWx1ZU1hY3JvIiwib25QYXRoQ2hhbmdlIiwiZXZlbnQiLCJqc29uRGF0YSIsInBhdGgiLCJ0YXJnZXQiLCJ2YWx1ZSIsIm9uTmFtZUNvbnN0Q2hhbmdlIiwib25WYWx1ZUNvbnN0Q2hhbmdlIiwib25OYW1lTWFjcm9DaGFuZ2UiLCJvblZhbHVlTWFjcm9DaGFuZ2UiLCJhZGRDb25zdCIsImxpc3RDb25zdCIsImNvbnN0IiwiaWQiLCJmaW5kSW5kZXgiLCJlIiwibmFtZSIsImMiLCJwdXNoIiwiZGVsZXRlQ29uc3QiLCJ1bmRlZmluZWQiLCJuZXdMaXN0Q29uc3QiLCJmaWx0ZXIiLCJpdGVtIiwibW9kaWZ5Q29uc3QiLCJhZGRNYWNybyIsImxpc3RNYWNybyIsIm1hY3JvIiwiZGVsZXRlTWFjcm8iLCJsaXN0ZU1hY3JvIiwibmV3TGlzdE1hY3JvIiwibW9kaWZ5TWFjcm8iLCJkaXYiLCJjbGFzc05hbWUiLCJoMSIsImxhYmVsIiwibGFiZWxXaWR0aCIsInRvb2x0aXAiLCJvbkNoYW5nZSIsIndpZHRoIiwic3BhbiIsInN0eWxlIiwib3BhY2l0eSIsIm1hcmdpblRvcCIsImJvcmRlckxlZnQiLCJIZWFkaW5nIiwiRGVzY3JpcHRpb24iLCJjb2RlIiwiaDMiLCJjb2xzIiwidmFyaWFudCIsIm1hcmdpbkxlZnQiLCJvbkNsaWNrIiwiQ29uc3QiLCJ0YWJsZSIsInRoZWFkIiwidHIiLCJ0ZCIsIm1hcmdpbiIsInZpc2liaWxpdHkiLCJ0aCIsIm1pbldpZHRoIiwibWF4V2lkdGgiLCJwYWRkaW5nIiwidGJvZHkiLCJtYXAiLCJvdmVyZmxvdyIsInRleHRPdmVyZmxvdyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/ConfigEditor.tsx\n");

/***/ }),

/***/ "./components/QueryEditor.tsx":
/*!************************************!*\
  !*** ./components/QueryEditor.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QueryEditor: () => (/* binding */ QueryEditor)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ \"rxjs\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(rxjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @grafana/ui */ \"@grafana/ui\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__);\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _object_spread_props(target, source) {\n    source = source != null ? source : {};\n    if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n        ownKeys(Object(source)).forEach(function(key) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n    }\n    return target;\n}\n\n\n\n/**\n * return number of lines of text\n * @param text\n */ function nbrLinesText(text) {\n    return [\n        ...text !== null && text !== void 0 ? text : ''\n    ].filter((x)=>x === '\\n').length + 1;\n}\nfunction QueryEditor({ query, onChange, onRunQuery }) {\n    let { expr } = query;\n    // fix to make progressive change in Grafana\n    // Previous version of these plugin as already be deployed\n    // this support previous plugin's data structure version\n    if (!expr && expr !== '') {\n        console.warn('Deprecate request detected');\n        // @ts-ignore\n        expr = query.queryText;\n    }\n    //operations changes\n    let [subject, _a] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(new rxjs__WEBPACK_IMPORTED_MODULE_1__.Subject());\n    let [onChangeObservable, _b] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(subject.asObservable().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_1__.tap)((value)=>{\n        onChange(_object_spread_props(_object_spread({}, query), {\n            expr: value !== null && value !== void 0 ? value : ''\n        }));\n    }), (0,rxjs__WEBPACK_IMPORTED_MODULE_1__.debounceTime)(2000)));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        let subscription = onChangeObservable.subscribe(()=>onRunQuery());\n        return ()=>subscription.unsubscribe();\n    }, [\n        onChangeObservable,\n        onRunQuery\n    ]);\n    const onExprChange = (event)=>{\n        subject.next(event.target.value);\n    };\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"gf-form\",\n        style: {\n            border: 'solid 1px #2e3136'\n        }\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.TextArea, {\n        rows: nbrLinesText(expr),\n        value: expr,\n        onChange: onExprChange\n    }));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFnRTtBQUlkO0FBQ1g7QUFJdkM7OztDQUdDLEdBQ0QsU0FBU08sYUFBYUMsSUFBd0I7SUFDNUMsT0FBTztXQUFLQSxpQkFBQUEsa0JBQUFBLE9BQVE7S0FBSSxDQUFDQyxNQUFNLENBQUMsQ0FBQ0MsSUFBTUEsTUFBTSxNQUFNQyxNQUFNLEdBQUc7QUFDOUQ7QUFFTyxTQUFTQyxZQUFZLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxVQUFVLEVBQVM7SUFDaEUsSUFBSSxFQUFFQyxJQUFJLEVBQUUsR0FBR0g7SUFFZiw0Q0FBNEM7SUFDNUMsMERBQTBEO0lBQzFELHdEQUF3RDtJQUN4RCxJQUFJLENBQUNHLFFBQVFBLFNBQVMsSUFBSTtRQUN4QkMsUUFBUUMsSUFBSSxDQUFDO1FBQ2IsYUFBYTtRQUNiRixPQUFPSCxNQUFNTSxTQUFTO0lBQ3hCO0lBRUEsb0JBQW9CO0lBQ3BCLElBQUksQ0FBQ0MsU0FBU0MsR0FBRyxHQUFHbkIsK0NBQVFBLENBQUMsSUFBSUcseUNBQU9BO0lBQ3hDLElBQUksQ0FBQ2lCLG9CQUFvQkMsR0FBRyxHQUFHckIsK0NBQVFBLENBQ3JDa0IsUUFBUUksWUFBWSxHQUFHQyxJQUFJLENBQ3pCckIseUNBQUdBLENBQUMsQ0FBQ3NCO1FBQ0haLFNBQVMsd0NBQUtEO1lBQU9HLE1BQU1VLGtCQUFBQSxtQkFBQUEsUUFBUzs7SUFDdEMsSUFDQXZCLGtEQUFZQSxDQUFDO0lBSWpCRixnREFBU0EsQ0FBQztRQUNSLElBQUkwQixlQUFlTCxtQkFBbUJNLFNBQVMsQ0FBQyxJQUFNYjtRQUN0RCxPQUFPLElBQU1ZLGFBQWFFLFdBQVc7SUFDdkMsR0FBRztRQUFDUDtRQUFvQlA7S0FBVztJQUVuQyxNQUFNZSxlQUFlLENBQUNDO1FBQ3BCWCxRQUFRWSxJQUFJLENBQUNELE1BQU1FLE1BQU0sQ0FBQ1AsS0FBSztJQUNqQztJQUVBLHFCQUNFLDJEQUFDUTtRQUFJQyxXQUFVO1FBQVVDLE9BQU87WUFBRUMsUUFBUTtRQUFvQjtxQkFDNUQsMkRBQUMvQixpREFBUUE7UUFBQ2dDLE1BQU0vQixhQUFhUztRQUFPVSxPQUFPVjtRQUFNRixVQUFVZ0I7O0FBR2pFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2xldmVyY2xvdWQtd2FycDEwLWRhdGFzb3VyY2UvLi9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yLnRzeD8wYTAzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDaGFuZ2VFdmVudCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFF1ZXJ5RWRpdG9yUHJvcHMgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IERhdGFTb3VyY2UgfSBmcm9tICcuLi9kYXRhc291cmNlJztcbmltcG9ydCB7IFdhcnBEYXRhU291cmNlT3B0aW9ucywgV2FycFF1ZXJ5IH0gZnJvbSAnLi4vdHlwZXMvdHlwZXMnO1xuaW1wb3J0IHsgZGVib3VuY2VUaW1lLCB0YXAsIFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFRleHRBcmVhIH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuXG50eXBlIFByb3BzID0gUXVlcnlFZGl0b3JQcm9wczxEYXRhU291cmNlLCBXYXJwUXVlcnksIFdhcnBEYXRhU291cmNlT3B0aW9ucz47XG5cbi8qKlxuICogcmV0dXJuIG51bWJlciBvZiBsaW5lcyBvZiB0ZXh0XG4gKiBAcGFyYW0gdGV4dFxuICovXG5mdW5jdGlvbiBuYnJMaW5lc1RleHQodGV4dDogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gIHJldHVybiBbLi4uKHRleHQgPz8gJycpXS5maWx0ZXIoKHgpID0+IHggPT09ICdcXG4nKS5sZW5ndGggKyAxO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUXVlcnlFZGl0b3IoeyBxdWVyeSwgb25DaGFuZ2UsIG9uUnVuUXVlcnkgfTogUHJvcHMpIHtcbiAgbGV0IHsgZXhwciB9ID0gcXVlcnk7XG5cbiAgLy8gZml4IHRvIG1ha2UgcHJvZ3Jlc3NpdmUgY2hhbmdlIGluIEdyYWZhbmFcbiAgLy8gUHJldmlvdXMgdmVyc2lvbiBvZiB0aGVzZSBwbHVnaW4gYXMgYWxyZWFkeSBiZSBkZXBsb3llZFxuICAvLyB0aGlzIHN1cHBvcnQgcHJldmlvdXMgcGx1Z2luJ3MgZGF0YSBzdHJ1Y3R1cmUgdmVyc2lvblxuICBpZiAoIWV4cHIgJiYgZXhwciAhPT0gJycpIHtcbiAgICBjb25zb2xlLndhcm4oJ0RlcHJlY2F0ZSByZXF1ZXN0IGRldGVjdGVkJyk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGV4cHIgPSBxdWVyeS5xdWVyeVRleHQ7XG4gIH1cblxuICAvL29wZXJhdGlvbnMgY2hhbmdlc1xuICBsZXQgW3N1YmplY3QsIF9hXSA9IHVzZVN0YXRlKG5ldyBTdWJqZWN0PHN0cmluZyB8IHVuZGVmaW5lZD4oKSk7XG4gIGxldCBbb25DaGFuZ2VPYnNlcnZhYmxlLCBfYl0gPSB1c2VTdGF0ZShcbiAgICBzdWJqZWN0LmFzT2JzZXJ2YWJsZSgpLnBpcGUoXG4gICAgICB0YXAoKHZhbHVlKSA9PiB7XG4gICAgICAgIG9uQ2hhbmdlKHsgLi4ucXVlcnksIGV4cHI6IHZhbHVlID8/ICcnIH0pO1xuICAgICAgfSksXG4gICAgICBkZWJvdW5jZVRpbWUoMjAwMClcbiAgICApXG4gICk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgc3Vic2NyaXB0aW9uID0gb25DaGFuZ2VPYnNlcnZhYmxlLnN1YnNjcmliZSgoKSA9PiBvblJ1blF1ZXJ5KCkpO1xuICAgIHJldHVybiAoKSA9PiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgfSwgW29uQ2hhbmdlT2JzZXJ2YWJsZSwgb25SdW5RdWVyeV0pO1xuXG4gIGNvbnN0IG9uRXhwckNoYW5nZSA9IChldmVudDogQ2hhbmdlRXZlbnQ8SFRNTFRleHRBcmVhRWxlbWVudD4pID0+IHtcbiAgICBzdWJqZWN0Lm5leHQoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybVwiIHN0eWxlPXt7IGJvcmRlcjogJ3NvbGlkIDFweCAjMmUzMTM2JyB9fT5cbiAgICAgIDxUZXh0QXJlYSByb3dzPXtuYnJMaW5lc1RleHQoZXhwcil9IHZhbHVlPXtleHByfSBvbkNoYW5nZT17b25FeHByQ2hhbmdlfSAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJkZWJvdW5jZVRpbWUiLCJ0YXAiLCJTdWJqZWN0IiwiVGV4dEFyZWEiLCJuYnJMaW5lc1RleHQiLCJ0ZXh0IiwiZmlsdGVyIiwieCIsImxlbmd0aCIsIlF1ZXJ5RWRpdG9yIiwicXVlcnkiLCJvbkNoYW5nZSIsIm9uUnVuUXVlcnkiLCJleHByIiwiY29uc29sZSIsIndhcm4iLCJxdWVyeVRleHQiLCJzdWJqZWN0IiwiX2EiLCJvbkNoYW5nZU9ic2VydmFibGUiLCJfYiIsImFzT2JzZXJ2YWJsZSIsInBpcGUiLCJ2YWx1ZSIsInN1YnNjcmlwdGlvbiIsInN1YnNjcmliZSIsInVuc3Vic2NyaWJlIiwib25FeHByQ2hhbmdlIiwiZXZlbnQiLCJuZXh0IiwidGFyZ2V0IiwiZGl2IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJib3JkZXIiLCJyb3dzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/QueryEditor.tsx\n");

/***/ }),

/***/ "./datasource.ts":
/*!***********************!*\
  !*** ./datasource.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DataSource: () => (/* binding */ DataSource)\n/* harmony export */ });\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @grafana/runtime */ \"@grafana/runtime\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_grafana_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ \"rxjs\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(rxjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _object_spread_props(target, source) {\n    source = source != null ? source : {};\n    if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n        ownKeys(Object(source)).forEach(function(key) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n    }\n    return target;\n}\n\n\n\nclass DataSource extends _grafana_runtime__WEBPACK_IMPORTED_MODULE_0__.DataSourceWithBackend {\n    /**\n   * NOTE: if you do modify the structure or use template variables, alerting queries may not work\n   * as expected\n   * */ applyTemplateVariables(query, _scopedVars) {\n        let header = this.computeTimeVars(this.request) + this.addDashboardVariables() + this.computeGrafanaContext() + this.computePanelRepeatVars(_scopedVars);\n        let script = header + query.expr;\n        return _object_spread_props(_object_spread({}, query), {\n            expr: script\n        });\n    }\n    query(request) {\n        var _request_targets_, _request_targets_1;\n        // Fix to make the change progressive in Grafana\n        // Previous version of these plugin as already be deployed\n        // this support previous plugin's data structure version\n        // @ts-ignore\n        request.targets = request.targets.map((t)=>{\n            if (!t.expr && t.expr !== '') {\n                console.warn('Deprecate request detected');\n                // @ts-ignore\n                t.expr = t.queryText;\n            }\n            return t;\n        });\n        this.request = request;\n        // apply headers for proxy mode\n        const query = {\n            expr: request.targets[0].expr,\n            refId: request.targets[0].refId,\n            hideLabels: ((_request_targets_ = request.targets[0]) === null || _request_targets_ === void 0 ? void 0 : _request_targets_.hideLabels) ? (_request_targets_1 = request.targets[0]) === null || _request_targets_1 === void 0 ? void 0 : _request_targets_1.hideLabels : false\n        };\n        request.targets[0] = this.applyTemplateVariables(query, request.scopedVars);\n        return super.query(request);\n    }\n    /**\n   * send request to Warp10\n   * @param query\n   * @return {Observable<FetchResponse<unknown>>} Response\n   */ doRequest(query) {\n        return (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_0__.getBackendSrv)().fetch({\n            url: this.path + '/api/v0/exec',\n            method: 'POST',\n            data: query.expr,\n            headers: [\n                [\n                    'Accept',\n                    'undefined'\n                ],\n                [\n                    'Content-Type',\n                    'text/plain; charset=UTF-8'\n                ]\n            ],\n            responseType: 'json'\n        });\n    }\n    computePanelRepeatVars(scopedVars) {\n        let wsHeader = '';\n        (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_0__.getTemplateSrv)().getVariables().forEach((myVar)=>{\n            const replace = (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_0__.getTemplateSrv)().replace(`$${myVar.name}`, scopedVars);\n            wsHeader += ` '${replace}' '${myVar.name}_repeat' STORE\\n`;\n        });\n        return wsHeader;\n    }\n    /**\n   * Compute Datasource constant and macro, store it on top of the stack\n   * @return {string} WarpScript header\n   */ computeGrafanaContext() {\n        let wsHeader = '';\n        const applyVarToHeader = (myVar)=>{\n            let value = '';\n            if (typeof myVar.value === 'string') {\n                value = myVar.value.replace(/'/g, '\"');\n            }\n            if (typeof myVar.value === 'string' && !myVar.value.startsWith('<%') && !myVar.value.endsWith('%>')) {\n                value = `'${myVar.value}'`;\n            }\n            return `${value || 'NULL'} '${myVar.name}' STORE\\n`;\n        };\n        //Add constants\n        this.const.forEach((myVar)=>{\n            wsHeader += applyVarToHeader(myVar);\n        });\n        //Add macros\n        this.macro.forEach((myMacro)=>{\n            wsHeader += applyVarToHeader(myMacro);\n        });\n        wsHeader += 'LINEON\\n';\n        return wsHeader;\n    }\n    /**\n   * Compute templating variables store it on top of the stack\n   * @return {string} WarpScript header\n   * @private\n   */ addDashboardVariables() {\n        let wsHeader = '';\n        (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_0__.getTemplateSrv)().getVariables().forEach((myvar)=>{\n            wsHeader += this.processDashboardVariable(myvar);\n        });\n        return wsHeader;\n    }\n    processDashboardVariable(myVar) {\n        let wsHeadertoAdd = '';\n        const value = myVar.current.value;\n        if (Array.isArray(value) && value.length === 1 && value[0] === '$__all' || value === '$__all') {\n            // User checked the \"select all\" checkbox\n            if (myVar.allValue && myVar.allValue !== '') {\n                // User also defined a custom value in the variable settings\n                const customValue = myVar.allValue;\n                wsHeadertoAdd += `[ '${customValue}' ] '${myVar.name}_list' STORE\\n`;\n                // custom all value is taken as it is. User may or may not use a regexp.\n                wsHeadertoAdd += ` '${customValue}' '${myVar.name}' STORE\\n`;\n            } else {\n                // if no custom all value is defined :\n                // it means we shall create a list of all the values in WarpScript from options, ignoring \"$__all\" special option value.\n                const allValues = myVar.options.filter((o)=>o.value !== '$__all').map((o)=>o.value);\n                wsHeadertoAdd += `[ ${allValues.map((s)=>`'${s}'`).join(' ')} ] '${myVar.name}_list' STORE\\n`; // all is stored as string in generated WarpScript.\n                // create a ready to use regexp in the variable\n                wsHeadertoAdd += ` '~' $${myVar.name}_list REOPTALT + '${myVar.name}' STORE\\n`;\n            }\n        } else if (Array.isArray(value)) {\n            // user checks several choices\n            wsHeadertoAdd += `[ ${value.map((s)=>`'${s}'`).join(' ')} ] '${myVar.name}_list' STORE\\n`; // all is stored as string in generated WarpScript.\n            if (1 === value.length) {\n                // one value checked : copy it as it is in WarpScript variable\n                wsHeadertoAdd += ` '${value[0]}' '${myVar.name}' STORE\\n`;\n            } else {\n                // several values checked : do a regexp\n                //also create a ready to use regexp, suffixed by _wsregexp\n                wsHeadertoAdd += ` '~' $${myVar.name}_list REOPTALT + '${myVar.name}' STORE\\n`;\n            }\n        } else {\n            // no multiple selection, variable is the string. As type is lost by Grafana, there is no safe way to assume something different than a string here.\n            // List is also created to create scripts compatible whatever the defined selection mode\n            wsHeadertoAdd += `[ '${value}' ] '${myVar.name}_list' STORE\\n`;\n            wsHeadertoAdd += `'${value}' '${myVar.name}' STORE\\n`;\n        }\n        return wsHeadertoAdd;\n    }\n    /**\n   * Compute time variable store it on top of the stack\n   * @param request\n   * @private\n   */ computeTimeVars(request) {\n        let vars = {};\n        // computeTimeVars comes from this.query()\n        // If the method is called from Grafana the request.range field is well formed\n        // but if the request is called from metricFindQuery() because you are in proxy mode, we need to give fake data to make it through backend server\n        try {\n            vars = {\n                start: request.range.from.toDate().getTime() * 1000,\n                startISO: request.range.from.toISOString(),\n                end: request.range.to.toDate().getTime() * 1000,\n                endISO: request.range.to.toISOString()\n            };\n        } catch (error) {\n            vars = {\n                start: request.range.from.getTime() * 1000,\n                startISO: request.range.from.toISOString(),\n                end: request.range.to.getTime() * 1000,\n                endISO: request.range.to.toISOString()\n            };\n        }\n        vars.interval = vars.end - vars.start;\n        vars.__interval = Math.floor(vars.interval / (request.maxDataPoints || 1));\n        vars.__interval_ms = Math.floor(vars.__interval / 1000);\n        let str = '';\n        for(let gVar in vars){\n            str += `${isNaN(vars[gVar]) ? `'${vars[gVar]}'` : vars[gVar]} '${gVar}' STORE `;\n        }\n        return str;\n    }\n    /**\n   * Management of query type dashboard variables\n   * @param query\n   * @param options\n   */ metricFindQuery(query, options) {\n        return /*#__PURE__*/ _async_to_generator(function*() {\n            let warpQuery = {\n                refId: '',\n                expr: this.addDashboardVariables() + this.computeGrafanaContext() + query,\n                hideLabels: false\n            };\n            const result$ = this.query({\n                targets: [\n                    warpQuery\n                ],\n                scopedVars: {},\n                range: {\n                    from: new Date(),\n                    to: new Date(Date.now() + 3600 * 1000),\n                    raw: {\n                        from: new Date(),\n                        to: new Date(Date.now() + 3600 * 1000)\n                    }\n                }\n            }).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_1__.map)((value)=>{\n                return value === null || value === void 0 ? void 0 : value.data.flatMap((frame)=>{\n                    return frame.fields.flatMap((field)=>{\n                        if (field.values) {\n                            const elt = field.values;\n                            if (field.name.includes('array_value')) {\n                                // simple array response, defined in backend\n                                // (we cannot differentiate variable query from panels' requests)\n                                if (elt.buffer !== undefined) {\n                                    return elt.buffer.map((v)=>({\n                                            text: v\n                                        }));\n                                } else {\n                                    return elt.map((v)=>({\n                                            text: v\n                                        }));\n                                }\n                            } else if ((0,lodash__WEBPACK_IMPORTED_MODULE_2__.isArray)(elt)) {\n                                return elt.map((v)=>({\n                                        text: v.toString(),\n                                        value: v.toString()\n                                    }));\n                            } else if ((0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(elt)) {\n                                return Object.entries(elt).map(([key, value])=>({\n                                        text: key.toString(),\n                                        value: value.toString()\n                                    }));\n                            } else {\n                                return [\n                                    {\n                                        text: elt.toString(),\n                                        value: elt.toString()\n                                    }\n                                ];\n                            }\n                        } else {\n                            return [];\n                        }\n                    });\n                });\n            }));\n            return yield (0,rxjs__WEBPACK_IMPORTED_MODULE_1__.lastValueFrom)(result$);\n        }).call(this);\n    }\n    /**\n   * @param instanceSettings\n   */ constructor(instanceSettings){\n        super(instanceSettings), //Information database\n        _define_property(this, \"path\", void 0), _define_property(this, \"const\", void 0), _define_property(this, \"macro\", void 0), _define_property(this, \"request\", void 0);\n        var _instanceSettings_jsonData_path;\n        this.path = (_instanceSettings_jsonData_path = instanceSettings.jsonData.path) !== null && _instanceSettings_jsonData_path !== void 0 ? _instanceSettings_jsonData_path : '';\n        var _instanceSettings_jsonData_const;\n        this.const = (_instanceSettings_jsonData_const = instanceSettings.jsonData.const) !== null && _instanceSettings_jsonData_const !== void 0 ? _instanceSettings_jsonData_const : [];\n        var _instanceSettings_jsonData_macro;\n        this.macro = (_instanceSettings_jsonData_macro = instanceSettings.jsonData.macro) !== null && _instanceSettings_jsonData_macro !== void 0 ? _instanceSettings_jsonData_macro : [];\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU1sRyxtREFBYUEsQ0FBQ2tGO1FBQzdCOztJQTFSQTs7R0FFQyxHQUNEb0IsWUFBWUMsZ0JBQW1FLENBQUU7UUFDL0UsS0FBSyxDQUFDQSxtQkFiUixzQkFBc0I7UUFDdEIsdUJBQVE1RSxRQUFSLFNBRUEsdUJBQVFlLFNBQVIsU0FFQSx1QkFBUUMsU0FBUixTQUVBLHVCQUFRakMsV0FBUjtZQU9jNkY7UUFBWixJQUFJLENBQUM1RSxJQUFJLEdBQUc0RSxDQUFBQSxrQ0FBQUEsaUJBQWlCQyxRQUFRLENBQUM3RSxJQUFJLGNBQTlCNEUsNkNBQUFBLGtDQUFrQztZQUVqQ0E7UUFBYixJQUFJLENBQUM3RCxLQUFLLEdBQUc2RCxDQUFBQSxtQ0FBQUEsaUJBQWlCQyxRQUFRLENBQUM5RCxLQUFLLGNBQS9CNkQsOENBQUFBLG1DQUFtQyxFQUFFO1lBRXJDQTtRQUFiLElBQUksQ0FBQzVELEtBQUssR0FBRzRELENBQUFBLG1DQUFBQSxpQkFBaUJDLFFBQVEsQ0FBQzdELEtBQUssY0FBL0I0RCw4Q0FBQUEsbUNBQW1DLEVBQUU7SUFFcEQ7QUFnUkYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGV2ZXJjbG91ZC13YXJwMTAtZGF0YXNvdXJjZS8uL2RhdGFzb3VyY2UudHM/ZWFiMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBEYXRhUXVlcnlSZXF1ZXN0LFxuICBEYXRhUXVlcnlSZXNwb25zZSxcbiAgRGF0YVNvdXJjZUluc3RhbmNlU2V0dGluZ3MsXG4gIE1ldHJpY0ZpbmRWYWx1ZSxcbiAgU2NvcGVkVmFycyxcbn0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5pbXBvcnQgeyBEYXRhU291cmNlV2l0aEJhY2tlbmQsIGdldEJhY2tlbmRTcnYsIGdldFRlbXBsYXRlU3J2IH0gZnJvbSAnQGdyYWZhbmEvcnVudGltZSc7XG5cbmltcG9ydCB7IGxhc3RWYWx1ZUZyb20sIG1hcCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuXG5pbXBvcnQge1xuICBDb25zdFByb3AsXG4gIFdhcnBEYXRhU291cmNlT3B0aW9ucyxcbiAgV2FycFF1ZXJ5LFxuICBXYXJwUmVzdWx0LFxufSBmcm9tICcuL3R5cGVzL3R5cGVzJztcblxuaW1wb3J0IHsgaXNBcnJheSwgaXNPYmplY3QgfSBmcm9tICdsb2Rhc2gnO1xuXG5leHBvcnQgY2xhc3MgRGF0YVNvdXJjZSBleHRlbmRzIERhdGFTb3VyY2VXaXRoQmFja2VuZDxXYXJwUXVlcnksIFdhcnBEYXRhU291cmNlT3B0aW9ucz4ge1xuICAvL0luZm9ybWF0aW9uIGRhdGFiYXNlXG4gIHByaXZhdGUgcGF0aDogc3RyaW5nO1xuXG4gIHByaXZhdGUgY29uc3Q6IENvbnN0UHJvcFtdO1xuXG4gIHByaXZhdGUgbWFjcm86IENvbnN0UHJvcFtdO1xuXG4gIHByaXZhdGUgcmVxdWVzdCE6IERhdGFRdWVyeVJlcXVlc3Q8V2FycFF1ZXJ5PjtcblxuICAvKipcbiAgICogQHBhcmFtIGluc3RhbmNlU2V0dGluZ3NcbiAgICovXG4gIGNvbnN0cnVjdG9yKGluc3RhbmNlU2V0dGluZ3M6IERhdGFTb3VyY2VJbnN0YW5jZVNldHRpbmdzPFdhcnBEYXRhU291cmNlT3B0aW9ucz4pIHtcbiAgICBzdXBlcihpbnN0YW5jZVNldHRpbmdzKTtcbiAgICB0aGlzLnBhdGggPSBpbnN0YW5jZVNldHRpbmdzLmpzb25EYXRhLnBhdGggPz8gJyc7XG5cbiAgICB0aGlzLmNvbnN0ID0gaW5zdGFuY2VTZXR0aW5ncy5qc29uRGF0YS5jb25zdCA/PyBbXTtcblxuICAgIHRoaXMubWFjcm8gPSBpbnN0YW5jZVNldHRpbmdzLmpzb25EYXRhLm1hY3JvID8/IFtdO1xuXG4gIH1cblxuICAvKipcbiAgICogTk9URTogaWYgeW91IGRvIG1vZGlmeSB0aGUgc3RydWN0dXJlIG9yIHVzZSB0ZW1wbGF0ZSB2YXJpYWJsZXMsIGFsZXJ0aW5nIHF1ZXJpZXMgbWF5IG5vdCB3b3JrXG4gICAqIGFzIGV4cGVjdGVkXG4gICAqICovXG4gIGFwcGx5VGVtcGxhdGVWYXJpYWJsZXMocXVlcnk6IFdhcnBRdWVyeSwgX3Njb3BlZFZhcnM6IFNjb3BlZFZhcnMpOiBXYXJwUXVlcnkge1xuICAgIGxldCBoZWFkZXIgPSAgdGhpcy5jb21wdXRlVGltZVZhcnModGhpcy5yZXF1ZXN0KSArXG4gICAgICB0aGlzLmFkZERhc2hib2FyZFZhcmlhYmxlcygpICtcbiAgICAgIHRoaXMuY29tcHV0ZUdyYWZhbmFDb250ZXh0KCkgK1xuICAgICAgdGhpcy5jb21wdXRlUGFuZWxSZXBlYXRWYXJzKF9zY29wZWRWYXJzKTtcblxuICAgIGxldCBzY3JpcHQgPSBoZWFkZXIgKyBxdWVyeS5leHByO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnF1ZXJ5LFxuICAgICAgZXhwcjogc2NyaXB0LFxuICAgIH07XG4gIH1cblxuICBxdWVyeShyZXF1ZXN0OiBEYXRhUXVlcnlSZXF1ZXN0PFdhcnBRdWVyeT4pOiBPYnNlcnZhYmxlPERhdGFRdWVyeVJlc3BvbnNlPiB7XG4gICAgLy8gRml4IHRvIG1ha2UgdGhlIGNoYW5nZSBwcm9ncmVzc2l2ZSBpbiBHcmFmYW5hXG4gICAgLy8gUHJldmlvdXMgdmVyc2lvbiBvZiB0aGVzZSBwbHVnaW4gYXMgYWxyZWFkeSBiZSBkZXBsb3llZFxuICAgIC8vIHRoaXMgc3VwcG9ydCBwcmV2aW91cyBwbHVnaW4ncyBkYXRhIHN0cnVjdHVyZSB2ZXJzaW9uXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJlcXVlc3QudGFyZ2V0cyA9IHJlcXVlc3QudGFyZ2V0cy5tYXAoKHQpID0+IHtcbiAgICAgIGlmICghdC5leHByICYmIHQuZXhwciAhPT0gJycpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGUgcmVxdWVzdCBkZXRlY3RlZCcpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHQuZXhwciA9IHQucXVlcnlUZXh0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHQ7XG4gICAgfSk7XG5cbiAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuXG4gICAgLy8gYXBwbHkgaGVhZGVycyBmb3IgcHJveHkgbW9kZVxuICAgIGNvbnN0IHF1ZXJ5OiBXYXJwUXVlcnkgPSB7XG4gICAgICBleHByOiByZXF1ZXN0LnRhcmdldHNbMF0uZXhwcixcbiAgICAgIHJlZklkOiByZXF1ZXN0LnRhcmdldHNbMF0ucmVmSWQsXG4gICAgICBoaWRlTGFiZWxzOiByZXF1ZXN0LnRhcmdldHNbMF0/LmhpZGVMYWJlbHMgPyByZXF1ZXN0LnRhcmdldHNbMF0/LmhpZGVMYWJlbHMgOiBmYWxzZSxcbiAgICB9O1xuICAgIHJlcXVlc3QudGFyZ2V0c1swXSA9IHRoaXMuYXBwbHlUZW1wbGF0ZVZhcmlhYmxlcyhxdWVyeSwgcmVxdWVzdC5zY29wZWRWYXJzKTtcblxuICAgIHJldHVybiBzdXBlci5xdWVyeShyZXF1ZXN0KTtcbiAgfVxuICAvKipcbiAgICogc2VuZCByZXF1ZXN0IHRvIFdhcnAxMFxuICAgKiBAcGFyYW0gcXVlcnlcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZTxGZXRjaFJlc3BvbnNlPHVua25vd24+Pn0gUmVzcG9uc2VcbiAgICovXG4gIGRvUmVxdWVzdDxUID0gV2FycFJlc3VsdD4ocXVlcnk6IFdhcnBRdWVyeSkge1xuICAgIHJldHVybiBnZXRCYWNrZW5kU3J2KCkuZmV0Y2g8VD4oe1xuICAgICAgdXJsOiB0aGlzLnBhdGggKyAnL2FwaS92MC9leGVjJyxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgZGF0YTogcXVlcnkuZXhwcixcbiAgICAgIGhlYWRlcnM6IFtcbiAgICAgICAgWydBY2NlcHQnLCAndW5kZWZpbmVkJ10sXG4gICAgICAgIFsnQ29udGVudC1UeXBlJywgJ3RleHQvcGxhaW47IGNoYXJzZXQ9VVRGLTgnXSxcbiAgICAgIF0sXG4gICAgICByZXNwb25zZVR5cGU6ICdqc29uJyxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY29tcHV0ZVBhbmVsUmVwZWF0VmFycyhzY29wZWRWYXJzOiBhbnkpOiBzdHJpbmcge1xuICAgIGxldCB3c0hlYWRlciA9ICcnO1xuICAgIGdldFRlbXBsYXRlU3J2KClcbiAgICAgIC5nZXRWYXJpYWJsZXMoKVxuICAgICAgLmZvckVhY2goKG15VmFyKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcGxhY2UgPSBnZXRUZW1wbGF0ZVNydigpLnJlcGxhY2UoYCQke215VmFyLm5hbWV9YCwgc2NvcGVkVmFycylcbiAgICAgICAgd3NIZWFkZXIgKz0gYCAnJHtyZXBsYWNlfScgJyR7bXlWYXIubmFtZX1fcmVwZWF0JyBTVE9SRVxcbmA7XG5cbiAgICAgIH0pO1xuICAgIHJldHVybiB3c0hlYWRlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlIERhdGFzb3VyY2UgY29uc3RhbnQgYW5kIG1hY3JvLCBzdG9yZSBpdCBvbiB0b3Agb2YgdGhlIHN0YWNrXG4gICAqIEByZXR1cm4ge3N0cmluZ30gV2FycFNjcmlwdCBoZWFkZXJcbiAgICovXG4gIHByaXZhdGUgY29tcHV0ZUdyYWZhbmFDb250ZXh0KCk6IHN0cmluZyB7XG4gICAgbGV0IHdzSGVhZGVyID0gJyc7XG5cbiAgICBjb25zdCBhcHBseVZhclRvSGVhZGVyID0gKG15VmFyOiBhbnkpID0+IHtcbiAgICAgIGxldCB2YWx1ZSA9ICcnO1xuICAgICAgaWYgKHR5cGVvZiBteVZhci52YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFsdWUgPSBteVZhci52YWx1ZS5yZXBsYWNlKC8nL2csICdcIicpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBteVZhci52YWx1ZSA9PT0gJ3N0cmluZycgJiYgIW15VmFyLnZhbHVlLnN0YXJ0c1dpdGgoJzwlJykgJiYgIW15VmFyLnZhbHVlLmVuZHNXaXRoKCclPicpKSB7XG4gICAgICAgIHZhbHVlID0gYCcke215VmFyLnZhbHVlfSdgO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAke3ZhbHVlIHx8ICdOVUxMJ30gJyR7bXlWYXIubmFtZX0nIFNUT1JFXFxuYDtcbiAgICB9O1xuXG4gICAgLy9BZGQgY29uc3RhbnRzXG4gICAgdGhpcy5jb25zdC5mb3JFYWNoKChteVZhcikgPT4ge1xuICAgICAgd3NIZWFkZXIgKz0gYXBwbHlWYXJUb0hlYWRlcihteVZhcik7XG4gICAgfSk7XG5cbiAgICAvL0FkZCBtYWNyb3NcbiAgICB0aGlzLm1hY3JvLmZvckVhY2goKG15TWFjcm8pID0+IHtcbiAgICAgIHdzSGVhZGVyICs9IGFwcGx5VmFyVG9IZWFkZXIobXlNYWNybyk7XG4gICAgfSk7XG5cbiAgICB3c0hlYWRlciArPSAnTElORU9OXFxuJztcbiAgICByZXR1cm4gd3NIZWFkZXI7XG4gIH1cblxuICAvKipcbiAgICogQ29tcHV0ZSB0ZW1wbGF0aW5nIHZhcmlhYmxlcyBzdG9yZSBpdCBvbiB0b3Agb2YgdGhlIHN0YWNrXG4gICAqIEByZXR1cm4ge3N0cmluZ30gV2FycFNjcmlwdCBoZWFkZXJcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgYWRkRGFzaGJvYXJkVmFyaWFibGVzKCk6IHN0cmluZyB7XG4gICAgbGV0IHdzSGVhZGVyID0gJyc7XG5cbiAgICBnZXRUZW1wbGF0ZVNydigpXG4gICAgICAuZ2V0VmFyaWFibGVzKClcbiAgICAgIC5mb3JFYWNoKChteXZhcikgPT4ge1xuICAgICAgICB3c0hlYWRlciArPSB0aGlzLnByb2Nlc3NEYXNoYm9hcmRWYXJpYWJsZShteXZhcik7XG4gICAgICB9KTtcblxuICAgIHJldHVybiB3c0hlYWRlcjtcbiAgfVxuXG4gIHByaXZhdGUgcHJvY2Vzc0Rhc2hib2FyZFZhcmlhYmxlKG15VmFyOiBhbnkpOiBzdHJpbmcge1xuICAgIGxldCB3c0hlYWRlcnRvQWRkID0gJyc7XG5cbiAgICBjb25zdCB2YWx1ZSA9IG15VmFyLmN1cnJlbnQudmFsdWU7XG5cbiAgICBpZiAoKEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMSAmJiB2YWx1ZVswXSA9PT0gJyRfX2FsbCcpIHx8IHZhbHVlID09PSAnJF9fYWxsJykge1xuICAgICAgLy8gVXNlciBjaGVja2VkIHRoZSBcInNlbGVjdCBhbGxcIiBjaGVja2JveFxuICAgICAgaWYgKG15VmFyLmFsbFZhbHVlICYmIG15VmFyLmFsbFZhbHVlICE9PSAnJykge1xuICAgICAgICAvLyBVc2VyIGFsc28gZGVmaW5lZCBhIGN1c3RvbSB2YWx1ZSBpbiB0aGUgdmFyaWFibGUgc2V0dGluZ3NcbiAgICAgICAgY29uc3QgY3VzdG9tVmFsdWU6IFN0cmluZyA9IG15VmFyLmFsbFZhbHVlO1xuICAgICAgICB3c0hlYWRlcnRvQWRkICs9IGBbICcke2N1c3RvbVZhbHVlfScgXSAnJHtteVZhci5uYW1lfV9saXN0JyBTVE9SRVxcbmA7XG4gICAgICAgIC8vIGN1c3RvbSBhbGwgdmFsdWUgaXMgdGFrZW4gYXMgaXQgaXMuIFVzZXIgbWF5IG9yIG1heSBub3QgdXNlIGEgcmVnZXhwLlxuICAgICAgICB3c0hlYWRlcnRvQWRkICs9IGAgJyR7Y3VzdG9tVmFsdWV9JyAnJHtteVZhci5uYW1lfScgU1RPUkVcXG5gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgbm8gY3VzdG9tIGFsbCB2YWx1ZSBpcyBkZWZpbmVkIDpcbiAgICAgICAgLy8gaXQgbWVhbnMgd2Ugc2hhbGwgY3JlYXRlIGEgbGlzdCBvZiBhbGwgdGhlIHZhbHVlcyBpbiBXYXJwU2NyaXB0IGZyb20gb3B0aW9ucywgaWdub3JpbmcgXCIkX19hbGxcIiBzcGVjaWFsIG9wdGlvbiB2YWx1ZS5cbiAgICAgICAgY29uc3QgYWxsVmFsdWVzOiBTdHJpbmdbXSA9IG15VmFyLm9wdGlvbnNcbiAgICAgICAgICAuZmlsdGVyKChvOiB7IHZhbHVlOiBzdHJpbmcgfSkgPT4gby52YWx1ZSAhPT0gJyRfX2FsbCcpXG4gICAgICAgICAgLm1hcCgobzogeyB2YWx1ZTogYW55IH0pID0+IG8udmFsdWUpO1xuICAgICAgICB3c0hlYWRlcnRvQWRkICs9IGBbICR7YWxsVmFsdWVzLm1hcCgocykgPT4gYCcke3N9J2ApLmpvaW4oJyAnKX0gXSAnJHtteVZhci5uYW1lfV9saXN0JyBTVE9SRVxcbmA7IC8vIGFsbCBpcyBzdG9yZWQgYXMgc3RyaW5nIGluIGdlbmVyYXRlZCBXYXJwU2NyaXB0LlxuICAgICAgICAvLyBjcmVhdGUgYSByZWFkeSB0byB1c2UgcmVnZXhwIGluIHRoZSB2YXJpYWJsZVxuICAgICAgICB3c0hlYWRlcnRvQWRkICs9IGAgJ34nICQke215VmFyLm5hbWV9X2xpc3QgUkVPUFRBTFQgKyAnJHtteVZhci5uYW1lfScgU1RPUkVcXG5gO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIC8vIHVzZXIgY2hlY2tzIHNldmVyYWwgY2hvaWNlc1xuICAgICAgd3NIZWFkZXJ0b0FkZCArPSBgWyAke3ZhbHVlLm1hcCgocykgPT4gYCcke3N9J2ApLmpvaW4oJyAnKX0gXSAnJHtteVZhci5uYW1lfV9saXN0JyBTVE9SRVxcbmA7IC8vIGFsbCBpcyBzdG9yZWQgYXMgc3RyaW5nIGluIGdlbmVyYXRlZCBXYXJwU2NyaXB0LlxuICAgICAgaWYgKDEgPT09IHZhbHVlLmxlbmd0aCkge1xuICAgICAgICAvLyBvbmUgdmFsdWUgY2hlY2tlZCA6IGNvcHkgaXQgYXMgaXQgaXMgaW4gV2FycFNjcmlwdCB2YXJpYWJsZVxuICAgICAgICB3c0hlYWRlcnRvQWRkICs9IGAgJyR7dmFsdWVbMF19JyAnJHtteVZhci5uYW1lfScgU1RPUkVcXG5gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc2V2ZXJhbCB2YWx1ZXMgY2hlY2tlZCA6IGRvIGEgcmVnZXhwXG4gICAgICAgIC8vYWxzbyBjcmVhdGUgYSByZWFkeSB0byB1c2UgcmVnZXhwLCBzdWZmaXhlZCBieSBfd3NyZWdleHBcbiAgICAgICAgd3NIZWFkZXJ0b0FkZCArPSBgICd+JyAkJHtteVZhci5uYW1lfV9saXN0IFJFT1BUQUxUICsgJyR7bXlWYXIubmFtZX0nIFNUT1JFXFxuYDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbm8gbXVsdGlwbGUgc2VsZWN0aW9uLCB2YXJpYWJsZSBpcyB0aGUgc3RyaW5nLiBBcyB0eXBlIGlzIGxvc3QgYnkgR3JhZmFuYSwgdGhlcmUgaXMgbm8gc2FmZSB3YXkgdG8gYXNzdW1lIHNvbWV0aGluZyBkaWZmZXJlbnQgdGhhbiBhIHN0cmluZyBoZXJlLlxuICAgICAgLy8gTGlzdCBpcyBhbHNvIGNyZWF0ZWQgdG8gY3JlYXRlIHNjcmlwdHMgY29tcGF0aWJsZSB3aGF0ZXZlciB0aGUgZGVmaW5lZCBzZWxlY3Rpb24gbW9kZVxuICAgICAgd3NIZWFkZXJ0b0FkZCArPSBgWyAnJHt2YWx1ZX0nIF0gJyR7bXlWYXIubmFtZX1fbGlzdCcgU1RPUkVcXG5gO1xuICAgICAgd3NIZWFkZXJ0b0FkZCArPSBgJyR7dmFsdWV9JyAnJHtteVZhci5uYW1lfScgU1RPUkVcXG5gO1xuICAgIH1cbiAgICByZXR1cm4gd3NIZWFkZXJ0b0FkZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlIHRpbWUgdmFyaWFibGUgc3RvcmUgaXQgb24gdG9wIG9mIHRoZSBzdGFja1xuICAgKiBAcGFyYW0gcmVxdWVzdFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBjb21wdXRlVGltZVZhcnMocmVxdWVzdDogRGF0YVF1ZXJ5UmVxdWVzdDxXYXJwUXVlcnk+KTogc3RyaW5nIHtcbiAgICBsZXQgdmFyczogYW55ID0ge307XG5cbiAgICAvLyBjb21wdXRlVGltZVZhcnMgY29tZXMgZnJvbSB0aGlzLnF1ZXJ5KClcbiAgICAvLyBJZiB0aGUgbWV0aG9kIGlzIGNhbGxlZCBmcm9tIEdyYWZhbmEgdGhlIHJlcXVlc3QucmFuZ2UgZmllbGQgaXMgd2VsbCBmb3JtZWRcbiAgICAvLyBidXQgaWYgdGhlIHJlcXVlc3QgaXMgY2FsbGVkIGZyb20gbWV0cmljRmluZFF1ZXJ5KCkgYmVjYXVzZSB5b3UgYXJlIGluIHByb3h5IG1vZGUsIHdlIG5lZWQgdG8gZ2l2ZSBmYWtlIGRhdGEgdG8gbWFrZSBpdCB0aHJvdWdoIGJhY2tlbmQgc2VydmVyXG4gICAgdHJ5IHtcbiAgICAgIHZhcnMgPSB7XG4gICAgICAgIHN0YXJ0OiByZXF1ZXN0LnJhbmdlLmZyb20udG9EYXRlKCkuZ2V0VGltZSgpICogMTAwMCxcbiAgICAgICAgc3RhcnRJU086IHJlcXVlc3QucmFuZ2UuZnJvbS50b0lTT1N0cmluZygpLFxuICAgICAgICBlbmQ6IHJlcXVlc3QucmFuZ2UudG8udG9EYXRlKCkuZ2V0VGltZSgpICogMTAwMCxcbiAgICAgICAgZW5kSVNPOiByZXF1ZXN0LnJhbmdlLnRvLnRvSVNPU3RyaW5nKCksXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB2YXJzID0ge1xuICAgICAgICBzdGFydDogKHJlcXVlc3QucmFuZ2UuZnJvbSBhcyB1bmtub3duIGFzIERhdGUpLmdldFRpbWUoKSAqIDEwMDAsXG4gICAgICAgIHN0YXJ0SVNPOiAocmVxdWVzdC5yYW5nZS5mcm9tIGFzIHVua25vd24gYXMgRGF0ZSkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgZW5kOiAocmVxdWVzdC5yYW5nZS50byBhcyB1bmtub3duIGFzIERhdGUpLmdldFRpbWUoKSAqIDEwMDAsXG4gICAgICAgIGVuZElTTzogKHJlcXVlc3QucmFuZ2UudG8gYXMgdW5rbm93biBhcyBEYXRlKS50b0lTT1N0cmluZygpLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXJzLmludGVydmFsID0gdmFycy5lbmQgLSB2YXJzLnN0YXJ0O1xuICAgIHZhcnMuX19pbnRlcnZhbCA9IE1hdGguZmxvb3IodmFycy5pbnRlcnZhbCAvIChyZXF1ZXN0Lm1heERhdGFQb2ludHMgfHwgMSkpO1xuICAgIHZhcnMuX19pbnRlcnZhbF9tcyA9IE1hdGguZmxvb3IodmFycy5fX2ludGVydmFsIC8gMTAwMCk7XG5cbiAgICBsZXQgc3RyID0gJyc7XG4gICAgZm9yIChsZXQgZ1ZhciBpbiB2YXJzKSB7XG4gICAgICBzdHIgKz0gYCR7aXNOYU4odmFyc1tnVmFyXSkgPyBgJyR7dmFyc1tnVmFyXX0nYCA6IHZhcnNbZ1Zhcl19ICcke2dWYXJ9JyBTVE9SRSBgO1xuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG4gIH1cblxuICAvKipcbiAgICogTWFuYWdlbWVudCBvZiBxdWVyeSB0eXBlIGRhc2hib2FyZCB2YXJpYWJsZXNcbiAgICogQHBhcmFtIHF1ZXJ5XG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqL1xuICBhc3luYyBtZXRyaWNGaW5kUXVlcnkocXVlcnk6IHN0cmluZywgb3B0aW9ucz86IGFueSk6IFByb21pc2U8TWV0cmljRmluZFZhbHVlW10+IHtcbiAgICBsZXQgd2FycFF1ZXJ5OiBXYXJwUXVlcnkgPSB7XG4gICAgICByZWZJZDogJycsXG4gICAgICBleHByOiB0aGlzLmFkZERhc2hib2FyZFZhcmlhYmxlcygpICsgdGhpcy5jb21wdXRlR3JhZmFuYUNvbnRleHQoKSArIHF1ZXJ5LFxuICAgICAgaGlkZUxhYmVsczogZmFsc2UsXG4gICAgfTtcblxuICAgIGNvbnN0IHJlc3VsdCQgPSB0aGlzLnF1ZXJ5KHtcbiAgICAgIHRhcmdldHM6IFt3YXJwUXVlcnldLFxuICAgICAgc2NvcGVkVmFyczoge30sXG4gICAgICByYW5nZToge1xuICAgICAgICBmcm9tOiBuZXcgRGF0ZSgpLFxuICAgICAgICB0bzogbmV3IERhdGUoRGF0ZS5ub3coKSArIDM2MDAgKiAxMDAwKSxcbiAgICAgICAgcmF3OiB7XG4gICAgICAgICAgZnJvbTogbmV3IERhdGUoKSxcbiAgICAgICAgICB0bzogbmV3IERhdGUoRGF0ZS5ub3coKSArIDM2MDAgKiAxMDAwKSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSBhcyB1bmtub3duIGFzIERhdGFRdWVyeVJlcXVlc3Q8V2FycFF1ZXJ5PikucGlwZShcbiAgICAgIG1hcCgodmFsdWUpID0+IHtcbiAgICAgICAgcmV0dXJuIHZhbHVlPy5kYXRhLmZsYXRNYXAoKGZyYW1lKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZyYW1lLmZpZWxkcy5mbGF0TWFwKChmaWVsZDogYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAoZmllbGQudmFsdWVzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVsdCA9IGZpZWxkLnZhbHVlcztcblxuICAgICAgICAgICAgICBpZiAoZmllbGQubmFtZS5pbmNsdWRlcygnYXJyYXlfdmFsdWUnKSkge1xuICAgICAgICAgICAgICAgIC8vIHNpbXBsZSBhcnJheSByZXNwb25zZSwgZGVmaW5lZCBpbiBiYWNrZW5kXG4gICAgICAgICAgICAgICAgLy8gKHdlIGNhbm5vdCBkaWZmZXJlbnRpYXRlIHZhcmlhYmxlIHF1ZXJ5IGZyb20gcGFuZWxzJyByZXF1ZXN0cylcbiAgICAgICAgICAgICAgICBpZiAoZWx0LmJ1ZmZlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZWx0LmJ1ZmZlci5tYXAoKHY6IGFueSkgPT4gKHsgdGV4dDogdiB9KSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBlbHQubWFwKCh2OiBhbnkpID0+ICh7IHRleHQ6IHYgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGVsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWx0Lm1hcCgodikgPT4gKHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IHYudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2LnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGVsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoZWx0KS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IGtleS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGVsdC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZWx0LnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IGxhc3RWYWx1ZUZyb20ocmVzdWx0JCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJEYXRhU291cmNlV2l0aEJhY2tlbmQiLCJnZXRCYWNrZW5kU3J2IiwiZ2V0VGVtcGxhdGVTcnYiLCJsYXN0VmFsdWVGcm9tIiwibWFwIiwiaXNBcnJheSIsImlzT2JqZWN0IiwiRGF0YVNvdXJjZSIsImFwcGx5VGVtcGxhdGVWYXJpYWJsZXMiLCJxdWVyeSIsIl9zY29wZWRWYXJzIiwiaGVhZGVyIiwiY29tcHV0ZVRpbWVWYXJzIiwicmVxdWVzdCIsImFkZERhc2hib2FyZFZhcmlhYmxlcyIsImNvbXB1dGVHcmFmYW5hQ29udGV4dCIsImNvbXB1dGVQYW5lbFJlcGVhdFZhcnMiLCJzY3JpcHQiLCJleHByIiwidGFyZ2V0cyIsInQiLCJjb25zb2xlIiwid2FybiIsInF1ZXJ5VGV4dCIsInJlZklkIiwiaGlkZUxhYmVscyIsInNjb3BlZFZhcnMiLCJkb1JlcXVlc3QiLCJmZXRjaCIsInVybCIsInBhdGgiLCJtZXRob2QiLCJkYXRhIiwiaGVhZGVycyIsInJlc3BvbnNlVHlwZSIsIndzSGVhZGVyIiwiZ2V0VmFyaWFibGVzIiwiZm9yRWFjaCIsIm15VmFyIiwicmVwbGFjZSIsIm5hbWUiLCJhcHBseVZhclRvSGVhZGVyIiwidmFsdWUiLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJjb25zdCIsIm1hY3JvIiwibXlNYWNybyIsIm15dmFyIiwicHJvY2Vzc0Rhc2hib2FyZFZhcmlhYmxlIiwid3NIZWFkZXJ0b0FkZCIsImN1cnJlbnQiLCJBcnJheSIsImxlbmd0aCIsImFsbFZhbHVlIiwiY3VzdG9tVmFsdWUiLCJhbGxWYWx1ZXMiLCJvcHRpb25zIiwiZmlsdGVyIiwibyIsInMiLCJqb2luIiwidmFycyIsInN0YXJ0IiwicmFuZ2UiLCJmcm9tIiwidG9EYXRlIiwiZ2V0VGltZSIsInN0YXJ0SVNPIiwidG9JU09TdHJpbmciLCJlbmQiLCJ0byIsImVuZElTTyIsImVycm9yIiwiaW50ZXJ2YWwiLCJfX2ludGVydmFsIiwiTWF0aCIsImZsb29yIiwibWF4RGF0YVBvaW50cyIsIl9faW50ZXJ2YWxfbXMiLCJzdHIiLCJnVmFyIiwiaXNOYU4iLCJtZXRyaWNGaW5kUXVlcnkiLCJ3YXJwUXVlcnkiLCJyZXN1bHQkIiwiRGF0ZSIsIm5vdyIsInJhdyIsInBpcGUiLCJmbGF0TWFwIiwiZnJhbWUiLCJmaWVsZHMiLCJmaWVsZCIsInZhbHVlcyIsImVsdCIsImluY2x1ZGVzIiwiYnVmZmVyIiwidW5kZWZpbmVkIiwidiIsInRleHQiLCJ0b1N0cmluZyIsIk9iamVjdCIsImVudHJpZXMiLCJrZXkiLCJjb25zdHJ1Y3RvciIsImluc3RhbmNlU2V0dGluZ3MiLCJqc29uRGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./datasource.ts\n");

/***/ }),

/***/ "./module.ts":
/*!*******************!*\
  !*** ./module.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   plugin: () => (/* binding */ plugin)\n/* harmony export */ });\n/* harmony import */ var grafana_public_path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! grafana-public-path */ \"./node_modules/grafana-public-path.js\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @grafana/data */ \"@grafana/data\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_grafana_data__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _datasource__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./datasource */ \"./datasource.ts\");\n/* harmony import */ var _components_ConfigEditor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/ConfigEditor */ \"./components/ConfigEditor.tsx\");\n/* harmony import */ var _components_QueryEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/QueryEditor */ \"./components/QueryEditor.tsx\");\n/*** IMPORTS FROM imports-loader ***/\n\n\n\n\n\n\nconst plugin = new _grafana_data__WEBPACK_IMPORTED_MODULE_1__.DataSourcePlugin(_datasource__WEBPACK_IMPORTED_MODULE_2__.DataSource).setConfigEditor(_components_ConfigEditor__WEBPACK_IMPORTED_MODULE_3__.ConfigEditor).setQueryEditor(_components_QueryEditor__WEBPACK_IMPORTED_MODULE_4__.QueryEditor);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9tb2R1bGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFpRDtBQUNQO0FBQ2U7QUFDRjtBQUdoRCxNQUFNSSxTQUFTLElBQUlKLDJEQUFnQkEsQ0FBK0NDLG1EQUFVQSxFQUNoR0ksZUFBZSxDQUFDSCxrRUFBWUEsRUFDNUJJLGNBQWMsQ0FBQ0gsZ0VBQVdBLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGV2ZXJjbG91ZC13YXJwMTAtZGF0YXNvdXJjZS8uL21vZHVsZS50cz9jMjE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGFTb3VyY2VQbHVnaW4gfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IERhdGFTb3VyY2UgfSBmcm9tICcuL2RhdGFzb3VyY2UnO1xuaW1wb3J0IHsgQ29uZmlnRWRpdG9yIH0gZnJvbSAnLi9jb21wb25lbnRzL0NvbmZpZ0VkaXRvcic7XG5pbXBvcnQgeyBRdWVyeUVkaXRvciB9IGZyb20gJy4vY29tcG9uZW50cy9RdWVyeUVkaXRvcic7XG5pbXBvcnQgeyBXYXJwUXVlcnksIFdhcnBEYXRhU291cmNlT3B0aW9ucyB9IGZyb20gJy4vdHlwZXMvdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgcGx1Z2luID0gbmV3IERhdGFTb3VyY2VQbHVnaW48RGF0YVNvdXJjZSwgV2FycFF1ZXJ5LCBXYXJwRGF0YVNvdXJjZU9wdGlvbnM+KERhdGFTb3VyY2UpXG4gIC5zZXRDb25maWdFZGl0b3IoQ29uZmlnRWRpdG9yKVxuICAuc2V0UXVlcnlFZGl0b3IoUXVlcnlFZGl0b3IpO1xuIl0sIm5hbWVzIjpbIkRhdGFTb3VyY2VQbHVnaW4iLCJEYXRhU291cmNlIiwiQ29uZmlnRWRpdG9yIiwiUXVlcnlFZGl0b3IiLCJwbHVnaW4iLCJzZXRDb25maWdFZGl0b3IiLCJzZXRRdWVyeUVkaXRvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./module.ts\n");

/***/ }),

/***/ "./node_modules/grafana-public-path.js":
/*!*********************************************!*\
  !*** ./node_modules/grafana-public-path.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var amd_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! amd-module */ \"amd-module\");\n/* harmony import */ var amd_module__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(amd_module__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\n__webpack_require__.p =\n  (amd_module__WEBPACK_IMPORTED_MODULE_0___default()) && (amd_module__WEBPACK_IMPORTED_MODULE_0___default().uri)\n    ? amd_module__WEBPACK_IMPORTED_MODULE_0___default().uri.slice(0, amd_module__WEBPACK_IMPORTED_MODULE_0___default().uri.lastIndexOf('/') + 1)\n    : 'public/plugins/clevercloud-warp10-datasource/';\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ3JhZmFuYS1wdWJsaWMtcGF0aC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQ3VDOztBQUV2QyxxQkFBdUI7QUFDdkIsRUFBRSxtREFBYSxJQUFJLHVEQUFpQjtBQUNwQyxNQUFNLHFEQUFpQixVQUFVLHFEQUFpQjtBQUNsRCIsInNvdXJjZXMiOlsid2VicGFjazovL2NsZXZlcmNsb3VkLXdhcnAxMC1kYXRhc291cmNlLy4vbm9kZV9tb2R1bGVzL2dyYWZhbmEtcHVibGljLXBhdGguanM/OTNlMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBhbWRNZXRhTW9kdWxlIGZyb20gJ2FtZC1tb2R1bGUnO1xuXG5fX3dlYnBhY2tfcHVibGljX3BhdGhfXyA9XG4gIGFtZE1ldGFNb2R1bGUgJiYgYW1kTWV0YU1vZHVsZS51cmlcbiAgICA/IGFtZE1ldGFNb2R1bGUudXJpLnNsaWNlKDAsIGFtZE1ldGFNb2R1bGUudXJpLmxhc3RJbmRleE9mKCcvJykgKyAxKVxuICAgIDogJ3B1YmxpYy9wbHVnaW5zL2NsZXZlcmNsb3VkLXdhcnAxMC1kYXRhc291cmNlLyc7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/grafana-public-path.js\n");

/***/ }),

/***/ "@grafana/data":
/*!********************************!*\
  !*** external "@grafana/data" ***!
  \********************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_data__;

/***/ }),

/***/ "@grafana/runtime":
/*!***********************************!*\
  !*** external "@grafana/runtime" ***!
  \***********************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_runtime__;

/***/ }),

/***/ "@grafana/ui":
/*!******************************!*\
  !*** external "@grafana/ui" ***!
  \******************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_ui__;

/***/ }),

/***/ "amd-module":
/*!*************************!*\
  !*** external "module" ***!
  \*************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_amd_module__;

/***/ }),

/***/ "lodash":
/*!*************************!*\
  !*** external "lodash" ***!
  \*************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_lodash__;

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_react__;

/***/ }),

/***/ "rxjs":
/*!***********************!*\
  !*** external "rxjs" ***!
  \***********************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_rxjs__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "public/plugins/clevercloud-warp10-datasource/";
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./module.ts");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});;